<?php

use App\DataMigrations\DataMigration;
use App\Models\ScreenButton;

return new class extends DataMigration
{
    /**
     * –û–ø–∏—Å–∞–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏.
     */
    public function description(): string
    {
        return '–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —ç–º–æ–¥–∑–∏ –∫ –∫–Ω–æ–ø–∫–∞–º –∏ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –≤ —Ä—è–¥—ã';
    }

    /**
     * Run the data migration.
     */
    public function up(): void
    {
        // –ö–∞—Ä—Ç–∞ –∑–∞–º–µ–Ω —Ç–µ–∫—Å—Ç–∞ –∫–Ω–æ–ø–æ–∫ –Ω–∞ —Ç–µ–∫—Å—Ç —Å —ç–º–æ–¥–∑–∏
        $emojiMap = [
            // –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
            '–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Easy Light' => 'üì≤ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Easy Light',
            '–í–æ–ø—Ä–æ—Å—ã –∏ –æ—Ç–≤–µ—Ç—ã' => '‚ùì –í–æ–ø—Ä–æ—Å—ã –∏ –æ—Ç–≤–µ—Ç—ã',
            '–¢–∞—Ä–∏—Ñ—ã' => 'üí≥ –¢–∞—Ä–∏—Ñ—ã',
            '–ü—Ä–æ—Ñ–∏–ª—å' => 'üë§ –ü—Ä–æ—Ñ–∏–ª—å',
            '–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è' => 'üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è',
            
            // –£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
            'Android' => 'üì± Android',
            'iPhone/iPad' => 'üçé iPhone/iPad',
            'AndroidTV' => 'üì∫ AndroidTV',
            'AppleTV' => 'üì∫ AppleTV',
            'Windows' => 'üíª Windows',
            'Mac' => 'üñ• Mac',
            
            // –ù–∞–≤–∏–≥–∞—Ü–∏—è
            '–ù–∞–∑–∞–¥' => '‚¨ÖÔ∏è –ù–∞–∑–∞–¥',
            '–í –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é' => 'üè† –í –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é',
            '–î—Ä—É–≥–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞' => 'üì± –î—Ä—É–≥–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞',
            
            // FAQ
            '–ß—Ç–æ-—Ç–æ —Å–ª–æ–º–∞–ª–æ—Å—å' => 'üîß –ß—Ç–æ-—Ç–æ —Å–ª–æ–º–∞–ª–æ—Å—å',
            '–í–æ–ø—Ä–æ—Å—ã –æ —Ç–∞—Ä–∏—Ñ–∞—Ö' => 'üí∞ –í–æ–ø—Ä–æ—Å—ã –æ —Ç–∞—Ä–∏—Ñ–∞—Ö',
            '–û—Ç–º–µ–Ω–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É' => '‚ùå –û—Ç–º–µ–Ω–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É',
            '–¢–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–∞' => 'üÜò –¢–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–∞',
            '–û —Å–µ—Ä–≤–∏—Å–µ' => '‚ÑπÔ∏è –û —Å–µ—Ä–≤–∏—Å–µ',
            
            // –¢–∞—Ä–∏—Ñ—ã
            '–¢–∞—Ä–∏—Ñ—ã –∏ –∏—Ö —Å—Ç–æ–∏–º–æ—Å—Ç—å' => 'üíµ –¢–∞—Ä–∏—Ñ—ã –∏ –∏—Ö —Å—Ç–æ–∏–º–æ—Å—Ç—å',
            '–ß—Ç–æ —Ç–∞–∫–æ–µ —Ç–∞—Ä–∏—Ñ Start' => '‚≠ê –ß—Ç–æ —Ç–∞–∫–æ–µ —Ç–∞—Ä–∏—Ñ Start',
            '–û–ø–ª–∞—Ç–∞ —Ç–∞—Ä–∏—Ñ–∞' => 'üí≥ –û–ø–ª–∞—Ç–∞ —Ç–∞—Ä–∏—Ñ–∞',
            '–û—Ç–º–µ–Ω–∞ –ø–æ–¥–ø–∏—Å–∫–∏ –∏ –≤–æ–∑–≤—Ä–∞—Ç —Å—Ä–µ–¥—Å—Ç–≤' => '‚Ü©Ô∏è –û—Ç–º–µ–Ω–∞ –ø–æ–¥–ø–∏—Å–∫–∏ –∏ –≤–æ–∑–≤—Ä–∞—Ç',
            '–û–ø–ª–∞—Ç–∏—Ç—å —Ç–∞—Ä–∏—Ñ' => 'üí≥ –û–ø–ª–∞—Ç–∏—Ç—å —Ç–∞—Ä–∏—Ñ',
            '–¢–∞—Ä–∏—Ñ –Ω–∞ 1 –º–µ—Å—è—Ü' => 'üìÖ –¢–∞—Ä–∏—Ñ –Ω–∞ 1 –º–µ—Å—è—Ü',
            '–¢–∞—Ä–∏—Ñ –Ω–∞ 3 –º–µ—Å—è—Ü–∞' => 'üìÖ –¢–∞—Ä–∏—Ñ –Ω–∞ 3 –º–µ—Å—è—Ü–∞',
            '–¢–∞—Ä–∏—Ñ –Ω–∞ 6 –º–µ—Å—è—Ü–µ–≤' => 'üìÖ –¢–∞—Ä–∏—Ñ –Ω–∞ 6 –º–µ—Å—è—Ü–µ–≤',
            '–ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ –ì–æ–ª–¥' => 'üëë –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ –ì–æ–ª–¥',
            
            // –ü—Ä–æ—Ñ–∏–ª—å
            '–ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å' => 'üë§ –ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å',
            '–ö–∞–∫ –ø–æ–¥–∫–ª—é—á–∏—Ç—å VPN –Ω–∞ –¥—Ä—É–≥–æ–º –¥–æ–ø —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ' => 'üì≤ –ü–æ–¥–∫–ª—é—á–∏—Ç—å –Ω–∞ –¥—Ä—É–≥–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ',
            '–ü–µ—Ä–µ–Ω–æ—Å —Ç–∞—Ä–∏—Ñ–∞ –Ω–∞ –¥—Ä—É–≥—É—é –ø–æ—á—Ç—É' => 'üìß –ü–µ—Ä–µ–Ω–æ—Å —Ç–∞—Ä–∏—Ñ–∞',
            '–£–¥–∞–ª–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞' => 'üóë –£–¥–∞–ª–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞',
            '–î–æ—Å—Ç—É–ø–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –Ω–∞ –∞–∫–∫–∞—É–Ω—Ç' => 'üì± –õ–∏–º–∏—Ç —É—Å—Ç—Ä–æ–π—Å—Ç–≤',
            '–†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞' => 'üéÅ –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞',
            
            // –î–µ–π—Å—Ç–≤–∏—è
            '–ù–∞–ø–∏—Å–∞—Ç—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É' => '‚úâÔ∏è –ù–∞–ø–∏—Å–∞—Ç—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É',
            '–ù–∞–ø–∏—Å–∞—Ç—å –≤ —Ç–µ—Ö –ø–æ–¥–¥–µ—Ä–∂–∫—É' => '‚úâÔ∏è –ù–∞–ø–∏—Å–∞—Ç—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É',
            '–í—ã–±—Ä–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—É' => 'üîç –í—ã–±—Ä–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—É',
            '–ß—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç' => '‚ö†Ô∏è –ß—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç',
            '–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ' => 'üìñ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ',
            '–£ –º–µ–Ω—è –¥—Ä—É–≥–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞' => 'üì¶ –£ –º–µ–Ω—è –¥—Ä—É–≥–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞',
        ];

        // –ü—Ä–∏–º–µ–Ω—è–µ–º –∑–∞–º–µ–Ω—ã
        foreach ($emojiMap as $oldText => $newText) {
            ScreenButton::where('text', $oldText)->update(['text' => $newText]);
        }

        // –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –∫–Ω–æ–ø–æ–∫ –≤ —Ä—è–¥—ã –¥–ª—è –≥–ª–∞–≤–Ω–æ–≥–æ –º–µ–Ω—é
        $this->setButtonRow('main.menu', 'üì≤ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Easy Light', 0);
        $this->setButtonRow('main.menu', '‚ùì –í–æ–ø—Ä–æ—Å—ã –∏ –æ—Ç–≤–µ—Ç—ã', 1);
        $this->setButtonRow('main.menu', 'üí≥ –¢–∞—Ä–∏—Ñ—ã', 1);
        $this->setButtonRow('main.menu', 'üë§ –ü—Ä–æ—Ñ–∏–ª—å', 2);
        $this->setButtonRow('main.menu', 'üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è', 2);

        // –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –∫–Ω–æ–ø–æ–∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤
        $this->setButtonRow('install.main', 'üì± Android', 1);
        $this->setButtonRow('install.main', 'üçé iPhone/iPad', 1);
        $this->setButtonRow('install.main', 'üì∫ AndroidTV', 2);
        $this->setButtonRow('install.main', 'üì∫ AppleTV', 2);
        $this->setButtonRow('install.main', 'üíª Windows', 3);
        $this->setButtonRow('install.main', 'üñ• Mac', 3);
        $this->setButtonRow('install.main', '‚¨ÖÔ∏è –ù–∞–∑–∞–¥', 0);

        // –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –∫–Ω–æ–ø–æ–∫ –≤ FAQ
        $this->setButtonRow('faq.main', 'üîß –ß—Ç–æ-—Ç–æ —Å–ª–æ–º–∞–ª–æ—Å—å', 1);
        $this->setButtonRow('faq.main', 'üí∞ –í–æ–ø—Ä–æ—Å—ã –æ —Ç–∞—Ä–∏—Ñ–∞—Ö', 1);
        $this->setButtonRow('faq.main', '‚ùå –û—Ç–º–µ–Ω–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É', 2);
        $this->setButtonRow('faq.main', 'üÜò –¢–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–∞', 2);
        $this->setButtonRow('faq.main', '‚ÑπÔ∏è –û —Å–µ—Ä–≤–∏—Å–µ', 3);
        $this->setButtonRow('faq.main', 'üè† –í –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é', 0);

        // –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –∫–Ω–æ–ø–æ–∫ –≤ —Ç–∞—Ä–∏—Ñ–∞—Ö
        $this->setButtonRow('tariffs.main', 'üíµ –¢–∞—Ä–∏—Ñ—ã –∏ –∏—Ö —Å—Ç–æ–∏–º–æ—Å—Ç—å', 1);
        $this->setButtonRow('tariffs.main', '‚≠ê –ß—Ç–æ —Ç–∞–∫–æ–µ —Ç–∞—Ä–∏—Ñ Start', 1);
        $this->setButtonRow('tariffs.main', 'üí≥ –û–ø–ª–∞—Ç–∞ —Ç–∞—Ä–∏—Ñ–∞', 2);
        $this->setButtonRow('tariffs.main', '‚Ü©Ô∏è –û—Ç–º–µ–Ω–∞ –ø–æ–¥–ø–∏—Å–∫–∏ –∏ –≤–æ–∑–≤—Ä–∞—Ç', 2);
        $this->setButtonRow('tariffs.main', 'üè† –í –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é', 0);
    }

    /**
     * –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å row –¥–ª—è –∫–Ω–æ–ø–∫–∏.
     */
    protected function setButtonRow(string $screenKey, string $buttonText, int $row): void
    {
        $screen = \App\Models\Screen::where('key', $screenKey)->first();
        if ($screen) {
            ScreenButton::where('screen_id', $screen->id)
                ->where('text', $buttonText)
                ->update(['row' => $row]);
        }
    }

    /**
     * Reverse the data migration.
     */
    public function down(): void
    {
        // –û—Ç–∫–∞—Ç - —É–±–∏—Ä–∞–µ–º —ç–º–æ–¥–∑–∏ (–ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)
    }
};